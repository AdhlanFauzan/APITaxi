{% extends "documentation/base.html" %}
{% block documentationcontent %}
<h1>Vue d'ensemble</h1>

<h2>Interactions moteur<->operateur<->taxi</h2>
Le principe de l'opendata taxi(ODT) est découpler les clients des moteurs de recherche, des taxis gérés par les opérateurs. Pour ce faire, l'ODT se place en proxy entre les demandes des clients et les opérateurs. Ainsi une app client ne parle jamais directement à un opérateur, mais à l'ODT qui relaie la requête à l'opérateur. Aussi toutes les actions entre le client et l'ODT doivent avoir été déclenchées par une interaction entre le client et son terminal, ces actions ne doivent pas être faites de manière automatique.<br>
Il en va de même pour les opérateurs, ils ne peuvent pas dialoguer directement avec les clients, mais doivent passer par un proxy.<br>
En revanche afin de remonter leur position les taxis doivent communiquer directement avec l'ODT.

<h2>Principes de l'API</h2>
Toutes les API présententées ici, à l'exception de celle permettant la remontée de la géolocalisation du taxi, sont des API web REST.<br>
Elles doivent être appellées à travers le protocol standard HTTPS.<br>
Tous les retours sont encodés en <a href="http://www.json.org">JSON</a>.<br>

<h2>Entêtes HTTP obligatoires</h2>

Afin de faire les appels vous devez remplir les entêtes https suivantes:
<table class="table-desc">
    <th>
        <td><h4>Nom</h3></td>
        <td><h4>Description</h3></td>
        <td><h4>Valeur</h3></td>
    </th>
    <tr>
        <td></td>
        <td>Accept</td>
        <td>Format attendu de la réponse</td>
        <td>application/json</td>
    </tr>
    <tr>
        <td></td>
        <td>X-VERSION</td>
        <td>Version de l'API</td>
        <td>1</td>
    </tr>
    <tr>
        <td></td>
        <td>X-API-KEY</td>
        <td>Clé d'API</td>
        <td>{{ apikey }}</td>
    </tr>
</table>

<h2>Authentification</h2>
L'authentification lors des appels se fait grâce à l'ajout de l'entête X-API-KEY, elle peut être récupéree <a href="user_key">ici</a>

{% endblock %}
