{% extends "documentation/base.html" %}
{% block documentationcontent %}
<h1>Taxi</h1>
<a name"=taxi_object"><h2>Objet principal</h2></a>
<table>
    <tr>
        <td>Key</td>
        <td>Value Type</td>
        <td>Description</td>
    </tr>
    <tr>
        <td>vehicle</td>
        <td><a href="#vehicle_object">vehicle</a></td>
        <td>A partial <a href="#vehicle_object">vehicle</a> with only the fields: characteristics, color, constructors, licence_plate, model. Beware some field may not be returned.</td>
    </tr>
    <tr>
        <td>ads</td>
        <td><a href="#ads_object">ADS</a></td>
        <td>A partial <a href="#ads_object">ADS</a> object with only the fields: insee, numero.</td>
    </tr>
    <tr>
        <td>driver</td>
        <td><a href="#driver_object">driver</a></td>
        <td>A partial driver object with only the fields: departement, profesionnal_licence.</td>
    </tr>
    <tr>
        <td>id</td>
        <td>string</td>
        <td>A string identifier, this is generated by the ODT. Don't send this field in a POST request.</td>
    </tr>
    <tr>
        <td>status</td>
        <td><a href="#status_taxi_enum">status</a></td>
        <td>Status of the taxi.</td>
    </tr>
    <tr>
        <td>last_update</td>
        <td>integer</td>
        <td>Timestamp of the last geolocalization update of the taxi.</td>
    </tr>
</table>
<a name="taxi_status"><h2>status</h2></a>
This table describes the different values this enum can take
<table>
    <tr>
        <td>Value</td>
        <td>Description</td>
    </tr>
    <tr>
        <td>free</td>
        <td>This taxi can accept hails</td>
    </tr>
    <tr>
        <td>answering</td>
        <td>This taxi is answering to hail</td>
    </tr>
    <tr>
        <td>occupied</td>
        <td>This taxi currently has a customer</td>
    </tr>
    <tr>
        <td>oncoming</td>
        <td>This taxi is on his way to take a customer</td>
    </tr>
    <tr>
        <td>off</td>
        <td>This taxi is not logged in</td>
    </tr>
</table>

<a name="taxi_post_reponses"><h2>Réponses possibles à un post</h2></a>
<h1>ADS</h1>
<a name="ads_object"><h2>ADS object</h2></a>
<table>
    <tr>
        <td>Key</td>
        <td>Value Type</td>
        <td>Description</td>
    </tr>
    <tr>
        <td>category</td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td>insee</td>
        <td>string</td>
        <td>INSEE code of the entity of which the ADS belongs to.</td>
    </tr>
    <tr>
        <td>doublage</td>
        <td>boolean</td>
        <td>Can this ADS be used by two drivers</td>
    </tr>
    <tr>
        <td>numero</td>
        <td>string</td>
        <td>identifier of the ADS</td>
    </tr>
    <tr>
        <td>owner_name</td>
        <td>string</td>
        <td>Name of the owner</td>
    </tr>
    <tr>
        <td>owner_type</td>
        <td>string</td>
        <td>Can be company or individual</td>
    </tr>
    <tr>
        <td>vehicle_id</td>
        <td></td>
        <td></td>
    </tr>
</table>

<h1>Driver</h1>
<a name="driver_object"><h2>Driver object</h2></a>
<table>
    <tr>
        <td>Key</td>
        <td>Value Type</td>
        <td>Description</td>
    </tr>
    <tr>
        <td>last_name</td>
        <td>string</td>
        <td>Last name of the driver</td>
    </tr>
    <tr>
        <td>first_name</td>
        <td>string</td>
        <td>Last name of the driver</td>
    </tr>
    <tr>
        <td>birth_date</td>
        <td>string, format: YYYY-MM-DD</td>
        <td>Birth date of the driver</td>
    </tr>
    <tr>
        <td>profesionnal_licence</td>
        <td>string</td>
        <td>Professional licence identifier of the driver</td>
    </tr>
    <tr>
        <td>departement</td>
        <td><a href="#department_object">department</a> object</td>
        <td></td>
    </tr>
</table>
<h1>Hail</h1>
<a name="hail_object"><h2>Hail Object</h2></a>
<table>
    <tr>
        <td>Key</td>
        <td>Value Type</td>
        <td>Description</td>
    </tr>
    <tr>
        <td>operateur</td>
        <td>string</td>
        <td>identifier of the operateur</td>
    </tr>
    <tr>
        <td>customer_id</td>
        <td>string</td>
        <td>identifier of the customer</td>
    </tr>
    <tr>
        <td>customer_lon</td>
        <td>float</td>
        <td>Longitude of the position of the customer</td>
    </tr>
    <tr>
        <td>customer_lat</td>
        <td>float</td>
        <td>Latitude of the position of the customer</td>
    </tr>
    <tr>
        <td>customer_address</td>
        <td>string</td>
        <td>Address of the position of the customer</td>
    </tr>
    <tr>
        <td>taxi_id</td>
        <td>string</td>
        <td>Identifier of the taxi</td>
    </tr>
    <tr>
        <td>status</td>
        <td>string</td>
        <td>status of the hail. All possible values are described <a href="#hail_status">here</a></td>
    </tr>
</table>
<a name="hail_status"><h2>Hail status</h2></a>
This section describes the different values a hail status can take.
<table>
    <tr>
        <td>Value</td>
        <td>Description</td>
    </tr>
    <tr>
        <td>emitted</td>
        <td>The first status of hail</td>
    </tr>
    <tr>
        <td>received</td>
        <td>The hail is received by the ODT</td>
    </tr>
    <tr>
        <td>sent_to_operator</td>
        <td>The hail has been sent to the operator</td>
    </tr>
    <tr>
        <td>received_by_operator</td>
        <td>We know the operator received the hail</td>
    </tr>
    <tr>
        <td>received_by_taxi</td>
        <td>The hail has been received by the taxi</td>
    </tr>
    <tr>
        <td>accepted_by_taxi</td>
        <td>The hail has been accepted by the taxi</td>
    </tr>
    <tr>
        <td>declined_by_taxi</td>
        <td>The hail has been declined by the taxi</td>
    </tr>
    <tr>
        <td>incident_customer</td>
        <td></td>
    </tr>
    <tr>
        <td>incident_taxi</td>
        <td></td>
    </tr>
    <tr>
        <td>timeout_customer</td>
        <td></td>
    </tr>
    <tr>
        <td>timeout_taxi</td>
        <td></td>
    </tr>
    <tr>
        <td>failure</td>
        <td></td>
    </tr>
</table>
<br>
<img src="/static/images/enums_hails.png">


{% endblock %}
