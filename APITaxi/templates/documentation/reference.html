{% extends "documentation/base.html" %}
{% block documentationcontent %}
<h1>Reference Documentation</h1>

<h2>Taxi</h2>

<a name="taxi_object"><h3>Structure</h3></a>
<table class="table-desc">
    <tr>
        <td>Key</td>
        <td>Value Type</td>
        <td>Description</td>
    </tr>
    <tr>
        <td>vehicle</td>
        <td><a href="#vehicle_object">vehicle</a></td>
        <td>A partial <a href="#vehicle_object">vehicle</a> with only the fields: characteristics, color, constructor, licence_plate, model. Beware some of those fields may not be returned if they were not.</td>
    </tr>
    <tr>
        <td>ads</td>
        <td><a href="#ads_object">ADS</a></td>
        <td>A partial <a href="#ads_object">ADS</a> object with only the fields: insee, numero.</td>
    </tr>
    <tr>
        <td>driver</td>
        <td><a href="#driver_object">driver</a></td>
        <td>A partial driver object with only the fields: departement, profesionnal_licence.</td>
    </tr>
    <tr>
        <td>id</td>
        <td>string</td>
        <td>A string identifier, this is generated by the ODT. Don't send this field in a POST request.</td>
    </tr>
    <tr>
        <td>status</td>
        <td><a href="#status_taxi_enum">status</a></td>
        <td>Status of the taxi.</td>
    </tr>
    <tr>
        <td>last_update</td>
        <td>integer</td>
        <td>Timestamp of the last geolocalization update of the taxi.</td>
    </tr>
</table>
<a name="taxi_status"><h3>status</h3></a>
This table describes the different values the taxi status can take
<table class="table-desc">
    <tr>
        <td>Value</td>
        <td>Description</td>
    </tr>
    <tr>
        <td>free</td>
        <td>The taxi can be hailed</td>
    </tr>
    <tr>
        <td>answering</td>
        <td>The taxi is currently answering to a hail</td>
    </tr>
    <tr>
        <td>oncoming</td>
        <td>The taxi is on its way to meet a customer</td>
    </tr>
    <tr>
        <td>occupied</td>
        <td>The taxi has a customer on board</td>
    </tr>
    <tr>
        <td>off</td>
        <td>The taxi is not logged in</td>
    </tr>
</table>
<a name="taxi_post_reponses"><h3>Error codes on a POST /taxis/</h3></a>
TODO (in Swagger ?)

<h2>ADS</h2>

<a name="ads_object"><h3>Structure</h3></a>
<table class="table-desc">
    <tr>
        <td>Key</td>
        <td>Value Type</td>
        <td>Description</td>
    </tr>
    <tr>
        <td>category</td>
        <td>string</td>
        <td></td>
    </tr>
    <tr>
        <td>insee</td>
        <td>string</td>
        <td>INSEE code of the entity of which the ADS belongs to.</td>
    </tr>
    <tr>
        <td>doublage</td>
        <td>boolean</td>
        <td>Can this ADS be used by two drivers</td>
    </tr>
    <tr>
        <td>numero</td>
        <td>string</td>
        <td>identifier of the ADS</td>
    </tr>
    <tr>
        <td>owner_name</td>
        <td>string</td>
        <td>Name of the owner</td>
    </tr>
    <tr>
        <td>owner_type</td>
        <td>string</td>
        <td>Can be company or individual</td>
    </tr>
    <tr>
        <td>vehicle_id</td>
        <td></td>
        <td></td>
    </tr>
</table>

<h2>Driver</h2>

<a name="driver_object"><h3>Structure</h3></a>
<table class="table-desc">
    <tr>
        <td>Key</td>
        <td>Value Type</td>
        <td>Description</td>
    </tr>
    <tr>
        <td>last_name</td>
        <td>string</td>
        <td>Last name of the driver</td>
    </tr>
    <tr>
        <td>first_name</td>
        <td>string</td>
        <td>Last name of the driver</td>
    </tr>
    <tr>
        <td>birth_date</td>
        <td>string, format: YYYY-MM-DD</td>
        <td>Birth date of the driver</td>
    </tr>
    <tr>
        <td>profesionnal_licence</td>
        <td>string</td>
        <td>Professional licence identifier of the driver</td>
    </tr>
    <tr>
        <td>departement</td>
        <td><a href="#department_object">department</a> object</td>
        <td></td>
    </tr>
</table>

<h2>Vehicle</h2>

<h3>Characteristics</h3>
<table class="table-desc">
    <tr>
        <td>Value</td>
        <td>Desription</td>
    </tr>
    <tr>
        <td>special_need_vehicle</td>
        <td>This vehicle accepts people with special needs</td>
    </tr>
    <tr>
        <td>every_destination</td>
        <td>This taxi accepts to go everywhere</td>
    </tr>
    <tr>
        <td>gps</td>
        <td>This taxi has a GPS</td>
    </tr>
    <tr>
        <td>eletronic_tool</td>
        <td>This vehicle has an eletronic tool device</td>
    </tr>
    <tr>
        <td>air_con</td>
        <td>This vehicle has air conditionnedd</td>
    </tr>
    <tr>
        <td>pet_accepted</td>
        <td>This vehicle accepts pets</td>
    </tr>
    <tr>
        <td>bike_accepted</td>
        <td>This vehicle accepts bikes</td>
    </tr>
    <tr>
        <td>baby_seat</td>
        <td>This vehicle has a baby seat</td>
    </tr>
    <tr>
        <td>wifi</td>
        <td>This vehicle has wifi aboard</td>
    </tr>
    <tr>
        <td>tablet</td>
        <td>This vehicle has a tablet which can be used by the customer</td>
    </tr>
    <tr>
        <td>dvd_player</td>
        <td>This vehicle has a dvd player which can be used by the customer</td>
    </tr>
    <tr>
        <td>fresh_drink</td>
        <td>This vehicle offers a fresh drink to the client</td>
    </tr>
    <tr>
        <td>amex_accepted</td>
        <td>This vehicle accepts american express card</td>
    </tr>
    <tr>
        <td>bank_check_accepted</td>
        <td>This vehicle accepts bank checks</td>
    </tr>
    <tr>
        <td>nfc_cc_accepted</td>
        <td>This vehicle accepts nfc credit card payments</td>
    </tr>
    <tr>
        <td>credit_card_accepted</td>
        <td>This vehicle accepts credit card payments</td>
    </tr>
    <tr>
        <td>luxury</td>
        <td>This is a luxury vehicle</td>
    </tr>
</table>



<h2>Hail</h2>

<a name="hail_object"><h3>Structure</h3></a>
<table class="table-desc">
    <tr>
        <td>Key</td>
        <td>Value Type</td>
        <td>Description</td>
    </tr>
    <tr>
        <td>operateur</td>
        <td>string</td>
        <td>identifier of the operateur</td>
    </tr>
    <tr>
        <td>customer_id</td>
        <td>string</td>
        <td>identifier of the customer</td>
    </tr>
    <tr>
        <td>customer_lon</td>
        <td>float</td>
        <td>Longitude of the position of the customer</td>
    </tr>
    <tr>
        <td>customer_lat</td>
        <td>float</td>
        <td>Latitude of the position of the customer</td>
    </tr>
    <tr>
        <td>customer_address</td>
        <td>string</td>
        <td>Address of the position of the customer</td>
    </tr>
    <tr>
        <td>taxi_id</td>
        <td>string</td>
        <td>Identifier of the taxi</td>
    </tr>
    <tr>
        <td>status</td>
        <td>string</td>
        <td>status of the hail. All possible values are described <a href="#hail_status">here</a></td>
    </tr>
</table>
<a name="hail_status"><h3>Hail status</h3></a>
This section describes the different values a hail status can take.
<table class="table-desc">
    <tr>
        <td>Value</td>
        <td>Description</td>
    </tr>
    <tr>
        <td>emitted</td>
        <td>The first status of hail</td>
    </tr>
    <tr>
        <td>received</td>
        <td>The hail is received by the ODT</td>
    </tr>
    <tr>
        <td>sent_to_operator</td>
        <td>The hail has been sent to the operator</td>
    </tr>
    <tr>
        <td>received_by_operator</td>
        <td>We know the operator received the hail</td>
    </tr>
    <tr>
        <td>received_by_taxi</td>
        <td>The hail has been received by the taxi</td>
    </tr>
    <tr>
        <td>accepted_by_taxi</td>
        <td>The hail has been accepted by the taxi</td>
    </tr>
    <tr>
        <td>declined_by_taxi</td>
        <td>The hail has been declined by the taxi</td>
    </tr>
    <tr>
        <td>incident_customer</td>
        <td></td>
    </tr>
    <tr>
        <td>incident_taxi</td>
        <td></td>
    </tr>
    <tr>
        <td>timeout_customer</td>
        <td></td>
    </tr>
    <tr>
        <td>timeout_taxi</td>
        <td></td>
    </tr>
    <tr>
        <td>failure</td>
        <td></td>
    </tr>
</table>
<br>
<img src="/static/images/enums_hails.png">

{% endblock %}
